<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">

  <title>Pok√©mon</title>
  <link rel="icon" type="image/png" href="http://www.pokemongofreehack.net/img/favicon.png" />

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">

  <script type="text/javascript" src='http://code.jquery.com/jquery-1.10.2.min.js'></script>
  <script type="text/javascript">
  $(document).ready(function() {

    for (var i = 1; i < 718; i++){

      // Display each image
      // Store each character's id in the "data-poke-id" attribute
      var pokeImage = '<img class="poke-image" data-poke-id="' + i + '" src ="http://pokeapi.co/media/img/' + i + '.png" width="60" alt="Unloaded ' + i + '">';

      // Add each image to the container
      $('.poke-container').append(pokeImage);

    }

  });

  // Click action for each image
  $(document).on('click','img.poke-image',function(){

    // Reference the clicked image
    var img = $(this);

    // Set all images to the deselected state
    $('img.poke-image').removeClass('selected');
    // Set the clicked image to selected
    img.addClass('selected');

    // Get the character's id from the "data-poke-id" attribute
    var id = img.data('poke-id');

    // Reteive the character's info
    getPokemon(id);

  });

  function getPokemon(id){

    var path = 'http://pokeapi.co/api/v2/pokemon/' + id;
    console.log('Getting pokemon from',path,'...');
    $('.individual').html('Loading...');

    $.ajax({
      type: 'GET',
      url: path,
      contentType: 'application/json; charset=utf-8',
      success: function(data){

        // If successful
        console.log(data);

        var html = '<img src ="http://pokeapi.co/media/img/' + id + '.png" width="60">';

        html += '<strong>' + data.name.toUpperCase() + '</strong>';

        html += '<ul>';
        $.each(data.abilities,function(i,item){

          console.log(item);
          html += '<li>' + item.ability.name + '</li>';

        });
        html += '</ul>';

        $('.individual').html(html);

      },
      always: function(){

        alert(id);

      },
      error: function(status,error){

        // If an error occurs
        console.log(status);
        console.log(error);
        $('.individual').html('An error occured!');

      }
    });

  }
  </script>

</head>
<style>

.individual {
  width: 100%;
  border: solid 1px #ccc;
  border-radius: 4px;
  height: 300px;
  padding: 4px 8px;
}

img.poke-image {
  cursor: pointer;
  border-radius: 4px;
}
img.poke-image:hover {
  background-color: #ccc;
}
img.poke-image.selected {
  background-color: #ccc;
}

.pfix {
  position: fixed;
}
</style>

<body>

  <!-- mt won't work unless you include bootstrap css -->
  <!-- html attributes use double quotes btw -->
  <!-- you had <div class='poke-container mt-3'> -->
  <div class="container-fluid mt-3">

    <div class="row">

      <div class="col-md-3 pfix">

        <div class="individual">



        </div>

      </div>

      <div class="col-md-9 ml-auto poke-container">



      </div>

    </div>

  </div>

</body>

</html>
